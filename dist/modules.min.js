var app=angular.module("app",["ngAnimate","ngAria","ngMaterial","ngRoute"]);app.config(function($mdThemingProvider){$mdThemingProvider.theme("default").primaryPalette("light-blue",{default:"600"}).accentPalette("orange",{default:"800"}).warnPalette("deep-orange").backgroundPalette("grey")}),app.controller("main",[function(){console.log("main")}]),app.controller("contenido",["$rootScope",function($rootScope){console.log("contenido");var raiz=this;raiz.rutaHeader="views/navbar.html",raiz.rutaBody="views/portfolio.html",raiz.rutaLogoPreloader="views/logoAnimado.html",raiz.cargado=!1,$rootScope.$on("finPrecarga",function(e,a){raiz.cargado=!0})}]),app.controller("animaLogo",["$scope","$timeout","$rootScope",function($scope,$timeout,$rootScope){console.log("animaLogo");var raiz=this;angular.element(document.querySelector(".dummy")).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(e){raiz.paso1=!0,$scope.$apply(),$timeout(function(){raiz.paso2=!0,$scope.$apply(),$timeout(function(){raiz.paso3=!0,$scope.$apply(),$rootScope.$emit("finPrecarga")},1950)},2e3)})}]),app.controller("encabezado",[function(){console.log("encabezado"),this.selectedTab="pagina1"}]),app.controller("portfolio",["$http",function($http){console.log("portfolio");var raiz=this;$http.get("assets/json/projects.json").then(function(resp){raiz.fichas=resp.data,console.log(raiz.fichas)},function(error){console.log("error",error)})}]),app.directive("scrollAbajo",function($document,$timeout){return{restrict:"A",link:function(scope,element,attrs){var doc=angular.element($document)[0].body,margen=window.getComputedStyle(element[0],null).getPropertyValue("margin-top");margen=parseInt(margen,10);var margenNegativa=window.getComputedStyle(element[0].children[0],null).getPropertyValue("margin-top");margenNegativa=parseInt(margenNegativa,10);var alturaBarra,top,margenInf,margenSup,navbar,fondoNavbar,opacidad;$timeout(function(){navbar=angular.element(document.getElementById("navbar"))[0],fondoNavbar=navbar.children[0],opacidad=parseInt(window.getComputedStyle(fondoNavbar,null).getPropertyValue("opacity"),10),alturaBarra=navbar.clientHeight,top=margen-alturaBarra+margenNegativa,margenInf=top+margenNegativa,margenSup=margen+margenNegativa},100),$document.bind("scroll",function(){var opacidadActual=1-(margenSup-margenInf-(doc.scrollTop-margenInf))/(margenSup-margenInf);opacidadActual>1?opacidadActual=1:opacidadActual<0&&(opacidadActual=0),0==opacidad&&angular.element(fondoNavbar).css("opacity",opacidadActual),angular.element(navbar).css("box-shadow","0px 0px 1px 0px rgba(0,0,0,"+opacidadActual+")")})}}});